(self["webpackChunk"]=self["webpackChunk"]||[]).push([[717],{39987:e=>{e.exports={header:"header___1YldI",logo:"logo___35WgN",userInfo:"userInfo___3JE-P",infoList:"infoList___1emhR",infoItem:"infoItem___eUXW2",infoTitle:"infoTitle___qPWRK",record:"record___2Pb6-",user:"user___3qg4v"}},30901:e=>{e.exports={box:"box___18ed5",fps:"fps___1c4C2"}},86977:e=>{e.exports={search:"search___1eAkB",searchButton:"searchButton___3v1x1",searchInput:"searchInput___1ztHK",searchResult:"searchResult___3vNiI",searchReacorTitle:"searchReacorTitle___2KNHU",searchResultHost:"searchResultHost___StfZ7",searchHistory:"searchHistory___2CN7n",clearSearchHistory:"clearSearchHistory___sFryS"}},39103:e=>{e.exports={ul:"ul___vB3Nr",box:"box___3s9lI",all:"all___2ANYw",allIcon:"allIcon___1Tq9X",typeList:"typeList___2KjFN",allTxt:"allTxt___3Vzu3",allNav:"allNav___14yS6"}},95376:e=>{e.exports={watchRecord:"watchRecord___2-lxe",recordContent:"recordContent___25DvP",empty:"empty___1NHqe",recordItem:"recordItem___73iSC",recordImg:"recordImg___1yzMY",info:"info___2FH5p"}},15909:e=>{e.exports={box:"box___3IU96",imgItem:"imgItem___1cxMR",bannerBox:"bannerBox___3SIWB",videoBox:"videoBox___2aRJG",smallBox:"smallBox___2nHoI"}},89434:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>oe});var s=t(3182),r=(t(16318),t(33876)),c=(t(13062),t(79294)),a=t(11849),i=(t(89032),t(1635)),o=t(94043),l=t.n(o),d=t(67294),u=t(5977),x=t(22231),m=t(99222),h=(t(3515),t(1734)),p=t(39987),f=t.n(p),_=(t(18446),t(33860)),g=t(86582),j=t(2824),v=t(76570),y=t(73171),N=t(11067),b=t(71685),I=t(10247),Z=t(86977),w=t.n(Z),S=t(85893);const k=function(){var e="search-hot",n=(0,b.Z)(e),t=(0,j.Z)(n,2),s=t[0],r=t[1],c=(0,b.Z)("searchHistory",[]),a=(0,j.Z)(c,2),i=a[0],o=a[1],l=(0,d.useState)([]),u=(0,j.Z)(l,2),m=u[0],h=u[1],p=(0,d.useState)(""),f=(0,j.Z)(p,2),Z=f[0],k=f[1],C=(0,d.useState)(!1),R=(0,j.Z)(C,2),H=R[0],T=R[1],B=(0,d.useRef)(null),F=(0,x.useRequest)(N.zs,{manual:!0,onSuccess:function(e){r({data:e,time:Date.now()+6e5}),h(e)}}),q=F.loading,L=F.run;function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z;""!==e&&(T(!1),o((0,g.Z)(new Set([e].concat((0,g.Z)(i))))),B.current&&(B.current.value=e),x.m.push("/search/".concat(e)))}function P(){T(!1)}function U(e){k(e.target.value)}function z(){if(!H){T(!0);var n=localStorage.getItem(e);!n||null===s||void 0===s||!s.data||s&&s.time<=Date.now()?L():h(s.data)}}function E(e){e.preventDefault(),e.stopPropagation()}function J(){o([])}function K(e){D(e)}return(0,I.Z)("enter",(function(){D()}),{events:["keyup"],target:function(){return B.current}}),(0,d.useEffect)((function(){document.onclick=P}),[]),(0,S.jsx)(d.Fragment,{children:(0,S.jsxs)("div",{className:w().search,onClick:E,children:[(0,S.jsx)("input",{type:"text",className:w().searchInput,ref:B,onInput:U,onFocus:z}),(0,S.jsxs)("div",{className:w().searchButton,onClick:function(){return D()},children:[(0,S.jsx)(v.Z,{}),(0,S.jsx)("i",{className:"mobile-hidden",children:"\u641c\u4e00\u4e0b"})]}),H&&(0,S.jsxs)("div",{className:w().searchResult,children:[!(!i||!i.length)&&(0,S.jsxs)(d.Fragment,{children:[(0,S.jsxs)("div",{className:w().searchReacorTitle,children:["\u641c\u7d22\u8bb0\u5f55",(0,S.jsxs)("span",{className:w().clearSearchHistory,onClick:J,children:[(0,S.jsx)(y.Z,{style:{fontSize:"18px"}})," \u6e05\u9664"]})]}),(0,S.jsx)("ul",{className:w().searchHistory,children:i.map((function(e){return(0,S.jsx)("li",{onClick:function(){return K(e)},className:"text-overflow-ellipsis",title:e,children:(0,S.jsx)(d.Fragment,{children:e})},e)}))})]}),q&&(0,S.jsx)(_.Z,{active:!0}),!q&&(0,S.jsxs)(d.Fragment,{children:[(0,S.jsx)("div",{className:w().searchReacorTitle,children:"\u70ed\u95e8\u641c\u7d22"}),(0,S.jsx)("ul",{className:w().searchResultHost,children:m&&m.map((function(e,n){return(0,S.jsxs)("li",{className:"text-overflow-ellipsis",onClick:function(){return K(e.content)},title:e.content,children:[(0,S.jsx)("em",{children:++n}),e.content]},e.content)}))})]})]})]})})};t(13254);var C=t(14277),R=t(95376),H=t.n(R),T=t(42919),B=t.n(T),F=t(42906),q=t(70029),L=t(73727);const D=function(){var e=(0,F.v)();return(0,S.jsx)("div",{className:H().watchRecord,children:(0,S.jsxs)("div",{className:H().recordContent,children:[(!e||!e.length)&&(0,S.jsx)("div",{className:H().empty,children:(0,S.jsx)(C.Z,{image:B(),imageStyle:{height:60},description:(0,S.jsx)("div",{style:{marginTop:"13px"},children:"\u60a8\u8fd8\u6ca1\u6709\u89c2\u770b\u4efb\u4f55\u89c6\u9891\u54e6"})})}),e&&e.map((function(e,n){var t=e.vodId,s=e.name,r=e.playId,c=e.picture,a=e.title,i=e.doubanScore,o=e.year;return(0,S.jsxs)("div",{className:H().recordItem,children:[(0,S.jsx)("div",{className:H().recordImg,children:(0,S.jsx)(q.Z,{id:t,banner:!1,name:s,picture:c,query:{id:r}})}),(0,S.jsx)(L.rU,{to:"/video/detail/".concat(t,"?id=").concat(r),children:(0,S.jsxs)("div",{className:H().info,children:[(0,S.jsxs)("p",{children:["\u7247\u540d\uff1a",s]}),(0,S.jsxs)("p",{children:["\u64ad\u653e\uff1a",a]}),(0,S.jsxs)("p",{children:["\u8bc4\u5206\uff1a",i]}),(0,S.jsxs)("p",{children:["\u5e74\u4efd\uff1a",o]})]})})]},n)}))]})})};var P=t(39103),U=t.n(P),z=t(57254),E=function(e){var n=e.item;return(0,S.jsx)("li",{children:(0,S.jsx)(L.rU,{to:"/type/".concat(n.id),children:n.name})})},J=function(e){var n=e.types;return(0,S.jsxs)("div",{className:U().box,children:[(0,S.jsx)("ul",{className:U().ul,children:n.map((function(e){return(0,S.jsx)(E,{item:e},e.id)}))}),(0,S.jsxs)("div",{className:U().all,children:[(0,S.jsx)("span",{className:U().allTxt,children:"\u5168\u90e8"}),(0,S.jsx)("span",{className:U().allNav,children:"\u5bfc\u822a"}),(0,S.jsx)(z.Z,{className:U().allIcon}),(0,S.jsx)("ul",{className:U().typeList,children:n.map((function(e){return(0,S.jsxs)(d.Fragment,{children:[(0,S.jsx)(E,{item:e}),e.children&&e.children.map((function(e){return(0,S.jsx)(E,{item:e},e.id)}))]},e.id)}))})]})]})};const K=(0,x.connect)((function(e){var n=e.global;return{types:n.types}}))(J);var W=t(78338),O=t(53245),Y=t.n(O),A=t(43367),M=t.n(A),X=t(63022),G=t(30901),V=t.n(G);const Q=function(){var e=(0,X.Z)();return(0,S.jsxs)("div",{className:V().box,children:[(0,S.jsx)("span",{className:V().type,children:e.effectiveType}),(0,S.jsxs)("span",{className:V().fps,children:[" FPS ",e.rtt]})]})};var $=function(e){var n=e.config,t=e.colConfig,s=(0,m.isBrowser)();function r(){x.m.push("/")}return(0,S.jsx)(h.Z,{style:{zIndex:5e3},children:(0,S.jsx)("header",{className:f().header,children:(0,S.jsxs)(c.Z,{children:[(0,S.jsx)(i.Z,(0,a.Z)((0,a.Z)({},t),{},{offset:1,children:(0,S.jsxs)(c.Z,{justify:"space-between",align:"middle",gutter:{xs:0,sm:16,md:0},children:[(0,S.jsx)(i.Z,{xs:0,sm:0,md:3,lg:4,xl:3,xxl:3,children:(0,S.jsx)("div",{style:{backgroundImage:"url(".concat(n.siteLogo||Y(),")")},className:f().logo,onClick:r})}),(0,S.jsx)(i.Z,{xs:5,sm:3,md:0,children:(0,S.jsx)("div",{style:{backgroundImage:"url(".concat(n.wapLogo||M(),")")},className:f().logo,onClick:r})}),(0,S.jsxs)(i.Z,{span:16,xs:19,sm:21,md:21,lg:20,xl:21,xxl:21,className:"display-flex justify-content-space-between align-items-center",children:[(0,S.jsx)(K,{}),(0,S.jsx)(k,{}),(0,S.jsx)("div",{className:f().userInfo,children:(0,S.jsx)("div",{className:f().infoList,children:(0,S.jsxs)("div",{className:[f().infoItem,f().record].join(" "),children:[(0,S.jsx)(W.Z,{}),(0,S.jsx)("div",{className:f().infoTitle,children:"\u770b\u8fc7"}),s&&(0,S.jsx)(D,{})]})})})]})]})})),s&&(0,S.jsx)(Q,{})]})})})};const ee=(0,x.connect)((function(e){var n=e.global;return{config:n.config}}))($);var ne=t(74865),te=t.n(ne),se=t(96318),re=t.n(se),ce=function(e){var n=e.config,t=void 0===n?{}:n,s=t.siteName,r=t.siteLogo,c=t.icon,a=(0,u.TH)(),i=a.pathname,o="/".concat(i);return(0,S.jsxs)(x.Helmet,{children:[(0,S.jsx)("meta",{property:"og:url",content:o}),(0,S.jsx)("meta",{property:"og:type",content:"video"}),(0,S.jsx)("meta",{property:"og:title",content:s}),(0,S.jsx)("meta",{property:"og:image",content:r}),(0,S.jsx)("meta",{property:"og:site_name",content:s}),(0,S.jsx)("meta",{"http-equiv":"mobile-agent",content:'"format=html5; url='.concat(o,'"')}),(0,S.jsx)("link",{rel:"dns-prefetch",href:"https://cdn.jsdelivr.net"}),(0,S.jsx)("meta",{name:"apple-mobile-web-app-title",content:s}),(0,S.jsx)("link",{rel:"icon",type:"image/x-icon",href:c||re()})]})};const ae=(0,x.connect)((function(e){var n=e.global;return{config:n.config}}))(ce);var ie=function(e){var n=(0,u.TH)(),t=n.pathname,s=(0,x.useSelector)((function(e){return e})),o=s.loading,l=s.global,h=(0,x.useDispatch)();return(0,m.isBrowser)()&&setTimeout((function(){te().done()}),100),(0,d.useEffect)((function(){o.global||Object.keys(l.config).length&&l.types.length||h({type:"global/getData"})}),[t]),(0,S.jsxs)(d.Fragment,{children:[(0,S.jsx)(ae,{}),(0,S.jsx)("div",{className:"layout_header",children:(0,S.jsx)(ee,{colConfig:e.colConfig})}),(0,S.jsx)(c.Z,{children:(0,S.jsx)(i.Z,(0,a.Z)((0,a.Z)({},e.colConfig),{},{offset:1,children:(0,S.jsx)("div",{className:"content margin-bottom-md padding-top-md",children:e.children})}))}),(0,S.jsx)(r.Z,{})]})};ie.getInitialProps=function(){var e=(0,s.Z)(l().mark((function e(n){return l().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.isServer){e.next=2;break}return e.abrupt("return");case 2:if(n.store.getState().loading.models.global){e.next=5;break}return e.next=5,n.store.dispatch({type:"global/getData"});case 5:return e.abrupt("return",(0,a.Z)({},n.store.getState()));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();const oe=(0,x.connect)((function(e){var n=e.layout;return{colConfig:n.config}}))(ie)},42906:(e,n,t)=>{"use strict";t.d(n,{v:()=>s,U:()=>r});var s=function(){var e=window.localStorage.getItem("watch_recrod_key");return e?JSON.parse(e):[]},r=function(e){var n=s().filter((function(n){return n.playId!=e.playId&&n.vodId!=e.vodId}));return n.unshift(e),window.localStorage.setItem("watch_recrod_key",JSON.stringify(n))}},70029:(e,n,t)=>{"use strict";t.d(n,{Z:()=>d});var s=t(2824),r=t(67294),c=t(73727),a=t(15909),i=t.n(a),o=function(e){if(!e||!e.cdn)return(null===e||void 0===e?void 0:e.pic)||(null===e||void 0===e?void 0:e.url)||"/";var n=e.cdn,t=n.r.path,s=n.path;return"".concat("https://cdn.jsdelivr.net/","gh/").concat(t,"@main/").concat(s)},l=t(85893);const d=function(e){var n=e.id,t=e.name,a=void 0===t?"":t,d=e.banner,u=void 0===d||d,x=e.children,m=e.picture,h=e.playing,p=void 0!==h&&h,f=e.query,_=void 0===f?{}:f,g=(0,r.useState)({}),j=(0,s.Z)(g,2),v=j[0],y=j[1];return(0,r.useEffect)((function(){setTimeout((function(){y({backgroundImage:"url(".concat(o(m),")")})}),100)})),(0,l.jsxs)("div",{className:[i().box,u?i().bannerBox:i().videoBox].join(" "),children:[n&&(0,l.jsx)(c.rU,{to:{pathname:"/video/detail/".concat(n),query:_},title:a,style:v,className:[i().imgItem,p?"playing":""].join(" "),children:x}),!n&&(0,l.jsx)(r.Fragment,{children:x})]})}},42919:(e,n,t)=>{e.exports=t.p+"static/empty.dbd309de.svg"},96318:(e,n,t)=>{e.exports=t.p+"static/icon.c21b0fa5.png"},43367:(e,n,t)=>{e.exports=t.p+"static/logo-wap.b6252ca4.png"},53245:(e,n,t)=>{e.exports=t.p+"static/logo3.308fb3be.png"}}]);